<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>Chat App</title>
	<link rel="stylesheet" href="index.css">
	<script src="https://cdn.socket.io/4.6.0/socket.io.min.js" integrity="sha384-c79GN5VsunZvi+Q/WObgk2in0CbZsHnjEqvFxC5DxHn9lTfNce2WW6h2pH6u/kF+" crossorigin="anonymous"></script>
	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
	<script defer src="index.js"></script>
	<!-- <script type="text/javascript"> window.onload = getUser </script> -->

</head>

<body onload="getUser()">
	
	<main>
		<p> Je suis user : <span id="user"></span></p>
		<h2> Messagerie </h2>
		<div class="wrapper">
			<div>
				<h3>Messagerie user id 2 - jrasser</h3>
				<button onclick="joinRoom1('2')">Join private room</button>	<!-- 2: userId -->
				<br>
				<br>
				<div id="Form1" class="hidden1">
					<input type="text" id="messageInput1">
					<button onclick="sendMessage1('2')">Send</button> <!-- 2: userId -->
					<ul id="messages1"></ul>
				</div>
			</div>
			<div>
				<h3>Messagerie user id 3 - test</h3>
				<button onclick="joinRoom2('3')">Join private room</button> <!-- 3: userId -->
				<br>
				<br>
				<div id="Form2" class="hidden2">
					<input type="text" id="messageInput2">
					<button onclick="sendMessage2('3')">Send</button> <!-- 3: userId -->
					<ul id="messages2"></ul>
				</div>
			</div>
		</div>

		<h2> Chat </h2>
		<button onclick="createChatRoom()">Create room</button> <!-- return room.id -->
		<br>
		<div class="wrapper">
			<div>
				<h3>Room1</h3>
				<button onclick="joinChatRoom('1')">Join room 1</button> <!-- roomId -->
				<br>
				<br>
				<div id="formChat1" class="hidden-room-1">
					<input type="text" id="messageRoomInput1">
					<button onclick="sendChatMessage('1')">Send</button> <!-- roomId -->
					<ul id="messagesRoom1"></ul>
					<!-- <button onclick="leaveRoom('1')">Leave</button> roomId -->
				</div>
			</div>

			<div>
				<h3>Room2</h3>
				<button onclick="joinChatRoom('2')">Join room 2</button> <!-- roomId -->
				<br>
				<br>
				<div id="formChat2" class="hidden-room-2">
					<input type="text" id="messageRoomInput2">
					<button onclick="sendChatMessage('2')">Send</button> <!-- roomId -->
					<ul id="messagesRoom2"></ul>
					<!-- <button onclick="leaveRoom('2')">Leave</button> roomId -->
				</div>
			</div>

			<div>
				<h3>Room3</h3>
				<button onclick="joinChatRoom('3')">Join room 3</button> <!-- roomId -->
				<br>
				<br>
				<div id="formChat3" class="hidden-room-3">
					<input type="text" id="messageRoomInput3">
					<button onclick="sendChatMessage('3')">Send</button> <!-- roomId -->
					<ul id="messagesRoom3"></ul>
					<!-- <button onclick="leaveRoom('3')">Leave</button> roomId -->
				</div>
			</div>
		</div>
	</main>
	
	

	
	
	
	
</body>

</html>